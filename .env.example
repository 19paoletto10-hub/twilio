# =============================================================================
# TWILIO CHAT APP - ENVIRONMENT CONFIGURATION
# =============================================================================
# Version: 3.2.5 | Last Updated: 2025-12-27
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_ENV=dev                    # dev | production | staging
APP_DEBUG=true                 # Enable debug mode (disable in production!)
APP_HOST=0.0.0.0               # Listen address (0.0.0.0 for all interfaces)
APP_PORT=3000                  # HTTP port
FLASK_APP=run.py               # Flask entry point

# Logging
LOG_LEVEL=debug                # debug | info | warning | error | critical

# Database
DB_PATH=data/app.db            # SQLite database path (relative to project root)

# Public URL (for webhooks and external access)
PUBLIC_BASE_URL=https://your-app.example.com

# -----------------------------------------------------------------------------
# TWILIO CONFIGURATION
# -----------------------------------------------------------------------------
# Get these from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=            # ACxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=             # Your auth token (keep secret!)
TWILIO_DEFAULT_FROM=           # Your Twilio phone number (+E.164 format)
TWILIO_MESSAGING_SERVICE_SID=  # MGxxxxxxxxxxxxxxxxxxxxxxxxxxxx (optional)

# Security
TWILIO_VALIDATE_SIGNATURE=false  # Set to true in production for webhook security

# Chat mode: echo | normal
CHAT_MODE=echo                 # echo = test mode (echoes messages back)

# -----------------------------------------------------------------------------
# OPENAI / AI CONFIGURATION
# -----------------------------------------------------------------------------
# Primary AI for auto-reply feature
OPENAI_API_KEY=                # sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o-mini       # Model for AI auto-replies
OPENAI_TEMPERATURE=0.7         # 0.0 = deterministic, 1.0 = creative

# AI Auto-Reply Settings
AI_ENABLED=false               # Enable/disable AI auto-reply globally
AI_TARGET_NUMBER=              # Optional: only reply to this number
AI_SYSTEM_PROMPT=              # Custom system prompt (optional)

# -----------------------------------------------------------------------------
# RAG / FAISS / NEWS LISTENER CONFIGURATION
# -----------------------------------------------------------------------------
# Used by /news command and FAISS semantic search
# Requires separate API key for embeddings (can be same as primary)

SECOND_OPENAI=                 # API key for embeddings (sk-xxx...)
SECOND_MODEL=gpt-4o-mini       # Model for RAG chat completions
EMBEDDING_MODEL=text-embedding-3-large  # Embedding model (3072 dimensions)

# FAISS Index Settings (optional, defaults shown)
# FAISS_INDEX_PATH=X1_data/faiss_openai_index
# FAISS_TOP_K=5                # Number of similar documents to retrieve

# -----------------------------------------------------------------------------
# ADVANCED SETTINGS (optional)
# -----------------------------------------------------------------------------
# Auto-reply worker settings
# AUTO_REPLY_QUEUE_TIMEOUT=5   # Queue poll timeout in seconds
# AUTO_REPLY_MAX_RETRIES=3     # Max retry attempts for failed sends

# Rate limiting (protect against abuse)
# RATE_LIMIT_PER_MINUTE=60     # Max requests per minute per IP

# Webhook settings
# WEBHOOK_TIMEOUT=30           # Timeout for webhook responses in seconds